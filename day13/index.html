<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        .option{
            margin-bottom: 10px;
        }
    </style>
</head>

<body>
    <div class="option">
        <a href="index.html">test1</a>
        <a href="test2.html">test2</a>
        <a href="test3.html">test3</a>
        <a href="test4.html">test4</a>
    </div>
    <div>
        <label>Number A:
            <input id="radio-a" type="radio" name="math-obj" value="a">
        </label>
        <input id="num-a" type="text">
        <label>Number B:
            <input id="radio-b" type="radio" name="math-obj" value="b">
        </label>
        <input id="num-b" type="text">
    </div>
    <div id="btn-group">
        <button data-type="check">判断当前选中的输入框输入内容是否为数字</button>
        <button data-type="fix">把 A 四舍五入为 B 个小数位数的数字</button>
        <button data-type="abs">当前选中数字的绝对值</button>
        <button data-type="ceil">对当前选中的数字进行上舍入</button>
        <button data-type="floor">对当前选中的数字进行下舍入</button>
        <button data-type="round">把当前选中的数字四舍五入为最接近的整数</button>
        <button data-type="max">返回 A 和 B 中的最高值</button>
        <button data-type="min">返回 A 和 B 中的最低值</button>
    </div>
    <p id="result"></p>
    <script>
        var btn = document.getElementById('btn-group');
        btn.onclick = function (e) {
            e.stopPropagation();
            var type = e.target.dataset.type;
            switch (type) {
                case 'check':
                    check();
                    break;
                case 'fix':
                    fix();
                    break;
                case 'abs':
                    abs();
                    break;
                case 'ceil':
                    ceil();
                    break;
                case 'floor':
                    floor();
                    break;
                case 'round':
                    round();
                    break;
                case 'max':
                    max();
                    break;
                case 'min':
                    min();
                    break;
            }
        }

        function getChecked() {
            var arr = document.getElementsByName('math-obj');
            for (let i = 0; i < arr.length; i++) {
                if (arr[i].checked) {
                    return arr[i].value;
                }
            }
        }

        function check() {
            var tar = '';
            var val;
            var strid;
            var res;
            tar = getChecked();
            if (tar) {
                strid = 'num-' + tar;
                val = +document.getElementById(strid).value;
                if (val !== val) {
                    res = '非数字';
                    document.getElementById('result').innerHTML = res;
                    return NaN;
                } else {
                    res = '是数字';
                    document.getElementById('result').innerHTML = res;
                    return val;
                }

            } else {
                alert('请选择类型')
            }
        }

        function fix() {
            var nua = +document.getElementById('num-a').value;
            var b = +document.getElementById('num-b').value;
            var res;
            if ((nua || nua === 0) && (parseInt(b) === b || b === 0)) {
                res = nua.toFixed(b);
            } else {
                res = '输入有误'
                console.error(res)
            }
            document.getElementById('result').innerHTML = res;
        }

        function abs() {
            var tar = check();
            var res;
            if (tar || tar === 0) {
                res = Math.abs(tar);
            } else {
                res = '输入有误';
                console.error(res);
            }
            document.getElementById('result').innerHTML = res;
        }

        function ceil() {
            var tar = check();
            var res;
            if (tar || tar === 0) {
                res = Math.ceil(tar);
            } else {
                res = '输入有误';
                console.error(res);
            }
            document.getElementById('result').innerHTML = res;
        }

        function floor() {
            var tar = check();
            var res;
            if (tar || tar === 0) {
                res = Math.floor(tar);
            } else {
                res = '输入有误';
                console.error(res);
            }
            document.getElementById('result').innerHTML = res;
        }

        function round() {
            var tar = check();
            var res;
            if (tar || tar === 0) {
                res = Math.round(tar);
            } else {
                res = '输入有误';
                console.error(res);
            }
            document.getElementById('result').innerHTML = res;
        }

        function max() {
            var a = +document.getElementById('num-a').value;
            var b = +document.getElementById('num-b').value;
            var res;
            if ((a || a === 0) && (b || b === 0)) {
                res = a >= b ? a : b;
            } else {
                res = '输入有误'
                console.error(res)
            }
            document.getElementById('result').innerHTML = res;
        }

        function min() {
            var a = +document.getElementById('num-a').value;
            var b = +document.getElementById('num-b').value;
            var res;
            if ((a || a === 0) && (b || b === 0)) {
                res = a >= b ? b : a;
            } else {
                res = '输入有误'
                console.error(res)
            }
            document.getElementById('result').innerHTML = res;
        }
    </script>
</body>

</html>